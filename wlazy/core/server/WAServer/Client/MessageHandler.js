const _0x78877a=_0x44f9;function _0x44f9(_0x31d985,_0x2b4c3b){const _0x3ef89c=_0x3ef8();return _0x44f9=function(_0x44f94e,_0x32a574){_0x44f94e=_0x44f94e-0x14e;let _0x4a5e64=_0x3ef89c[_0x44f94e];return _0x4a5e64;},_0x44f9(_0x31d985,_0x2b4c3b);}(function(_0x12d53b,_0x535382){const _0x3e1e5e=_0x44f9,_0x158312=_0x12d53b();while(!![]){try{const _0x12400a=parseInt(_0x3e1e5e(0x15a))/0x1*(parseInt(_0x3e1e5e(0x18e))/0x2)+parseInt(_0x3e1e5e(0x151))/0x3+-parseInt(_0x3e1e5e(0x172))/0x4*(parseInt(_0x3e1e5e(0x179))/0x5)+parseInt(_0x3e1e5e(0x173))/0x6+parseInt(_0x3e1e5e(0x163))/0x7+parseInt(_0x3e1e5e(0x185))/0x8*(parseInt(_0x3e1e5e(0x17d))/0x9)+parseInt(_0x3e1e5e(0x18b))/0xa*(-parseInt(_0x3e1e5e(0x187))/0xb);if(_0x12400a===_0x535382)break;else _0x158312['push'](_0x158312['shift']());}catch(_0x5260c2){_0x158312['push'](_0x158312['shift']());}}}(_0x3ef8,0x1a072));const serialize=require(_0x78877a(0x14f)),RespondersDatabase=require(_0x78877a(0x16a)),SessionsDatabase=require(_0x78877a(0x156)),Client=require('./Client.js'),{logger}=require('../../app/lib/myf.velixs.js'),axios=require(_0x78877a(0x165)),{commands,checkSessionCommands}=require('../../app/config/commands.js');class Message{constructor(_0x3e2a94,_0x1b70b0,_0x17864c){const _0x163c04=_0x78877a;this[_0x163c04(0x164)]=_0x17864c,this[_0x163c04(0x171)]=_0x3e2a94,this[_0x163c04(0x177)]=_0x1b70b0,this[_0x163c04(0x183)]=0x0,this[_0x163c04(0x17c)]=![];}async[_0x78877a(0x162)](){const _0x3a05c0=_0x78877a;try{if(!this[_0x3a05c0(0x177)])return;const _0x1d3da2=this[_0x3a05c0(0x177)];if(_0x1d3da2[_0x3a05c0(0x176)]&&_0x1d3da2['key']['remoteJid']===_0x3a05c0(0x161))return;if(!_0x1d3da2[_0x3a05c0(0x15f)])return;const _0x4b68da=await serialize(this['velixs'],_0x1d3da2),_0x56f9da=new Client(this[_0x3a05c0(0x171)],_0x4b68da[_0x3a05c0(0x193)]),_0x4e3968=null;if(!_0x4e3968)return this[_0x3a05c0(0x15c)](_0x4b68da,_0x56f9da);}catch(_0x161f1e){}}async[_0x78877a(0x15c)](_0x85ee7,_0x35004a){const _0x5a7d7f=_0x78877a;let _0x4bd559=_0x85ee7[_0x5a7d7f(0x16d)],_0x16423a=_0x85ee7[_0x5a7d7f(0x190)];const _0x25098f=_0x85ee7[_0x5a7d7f(0x15e)]=='buttonsResponseMessage'?_0x85ee7['message'][_0x85ee7[_0x5a7d7f(0x15e)]][_0x5a7d7f(0x14e)]:_0x85ee7['type']==_0x5a7d7f(0x16b)?_0x85ee7[_0x5a7d7f(0x15f)][_0x85ee7[_0x5a7d7f(0x15e)]][_0x5a7d7f(0x189)]['selectedRowId']:_0x85ee7['type']==_0x5a7d7f(0x186)?_0x85ee7[_0x5a7d7f(0x15f)][_0x85ee7[_0x5a7d7f(0x15e)]][_0x5a7d7f(0x16f)]:_0x85ee7[_0x5a7d7f(0x181)],_0x2ec649=_0x25098f['trim']()[_0x5a7d7f(0x15d)](/ +/)['slice'](0x1),_0x34702a=_0x25098f[_0x5a7d7f(0x18f)]()[_0x5a7d7f(0x15d)](/ +/)['shift']()[_0x5a7d7f(0x153)]();if(_0x25098f=='')return;let _0x1c865a=await new SessionsDatabase()[_0x5a7d7f(0x169)](this[_0x5a7d7f(0x164)]);_0x1c865a&&(this[_0x5a7d7f(0x159)](_0x1c865a)&&axios[_0x5a7d7f(0x18d)](_0x1c865a,{'message':_0x25098f,'from':_0x85ee7['from'],'isGroup':_0x4bd559,'isMe':_0x16423a})[_0x5a7d7f(0x150)](_0x1a6ea4=>{const _0x4b2c68=_0x5a7d7f;let _0x3957a9=JSON[_0x4b2c68(0x170)](JSON[_0x4b2c68(0x152)](_0x1a6ea4[_0x4b2c68(0x16e)]));if(_0x3957a9[_0x4b2c68(0x16e)]!='false'){let _0x4a20c0=JSON['parse'](_0x3957a9[_0x4b2c68(0x16e)]),_0x5edae7=_0x4a20c0[_0x4b2c68(0x15f)];switch(_0x4a20c0[_0x4b2c68(0x167)]){case _0x4b2c68(0x181):_0x35004a[_0x4b2c68(0x18c)](_0x5edae7[_0x4b2c68(0x15f)]);break;case _0x4b2c68(0x191):let _0x24d608={'file':{'mimetype':''+_0x5edae7['media_type']}};_0x35004a['sendMedia'](_0x5edae7[_0x4b2c68(0x158)],_0x5edae7['caption'],_0x24d608);break;}}})[_0x5a7d7f(0x157)](_0x117d72=>{}));this[_0x5a7d7f(0x183)]=await new RespondersDatabase()[_0x5a7d7f(0x184)]({'keyword':_0x25098f,'session_id':this['session']});this[_0x5a7d7f(0x183)][_0x5a7d7f(0x17e)]==0x0&&(this[_0x5a7d7f(0x183)]=await new RespondersDatabase()[_0x5a7d7f(0x15b)]({'session_id':this['session']}),this['isResponder_contains']=!![]);this[_0x5a7d7f(0x183)][_0x5a7d7f(0x17e)]>0x0&&this[_0x5a7d7f(0x183)][_0x5a7d7f(0x17a)](_0x56725c=>{const _0x3fa444=_0x5a7d7f;if(this['isResponder_contains']){if(!_0x25098f['includes'](_0x56725c[_0x3fa444(0x154)]))return;}let _0x3964ee=JSON[_0x3fa444(0x170)](_0x56725c[_0x3fa444(0x15f)]);if(_0x56725c[_0x3fa444(0x168)]==='group'&&!_0x4bd559)return;if(_0x56725c['reply_when']===_0x3fa444(0x175)&&_0x4bd559)return;switch(_0x56725c[_0x3fa444(0x167)]){case _0x3fa444(0x181):_0x35004a[_0x3fa444(0x18c)](_0x3964ee[_0x3fa444(0x15f)],_0x3964ee[_0x3fa444(0x188)]?_0x85ee7:'');break;case _0x3fa444(0x191):let _0x3c0252={'file':{'mimetype':''+_0x3964ee[_0x3fa444(0x17f)]}};_0x35004a[_0x3fa444(0x178)](_0x3964ee[_0x3fa444(0x158)],_0x3964ee[_0x3fa444(0x180)],_0x3c0252,_0x3964ee[_0x3fa444(0x188)]?_0x85ee7:'');break;case _0x3fa444(0x174):_0x35004a[_0x3fa444(0x16c)]({'text':_0x3964ee[_0x3fa444(0x15f)],'footer':_0x3964ee[_0x3fa444(0x17b)],'buttons':_0x3964ee['buttons']});break;case'list':_0x35004a[_0x3fa444(0x155)]({'title':_0x3964ee[_0x3fa444(0x194)],'text':_0x3964ee['message'],'footer':_0x3964ee[_0x3fa444(0x17b)],'button_text':_0x3964ee[_0x3fa444(0x166)],'sections':_0x3964ee[_0x3fa444(0x182)]});break;}});try{let _0x253ffd=Array[_0x5a7d7f(0x193)](commands[_0x5a7d7f(0x18a)]())[_0x5a7d7f(0x192)](_0x1483d6=>_0x1483d6['cmd'][_0x5a7d7f(0x192)](_0x4bf000=>_0x4bf000[_0x5a7d7f(0x153)]()==_0x34702a[_0x5a7d7f(0x153)]()));_0x253ffd&&(_0x253ffd[_0x5a7d7f(0x160)]?_0x253ffd['run'](this[_0x5a7d7f(0x171)],_0x85ee7,_0x2ec649):checkSessionCommands(this[_0x5a7d7f(0x164)],_0x253ffd['name'])&&_0x253ffd['run'](this[_0x5a7d7f(0x171)],_0x85ee7,_0x2ec649));}catch(_0x4cd214){}}async[_0x78877a(0x159)](_0x50c5f1){try{return new URL(_0x50c5f1),!![];}catch(_0x2f8d8c){return![];}}}module['exports']=Message;function _0x3ef8(){const _0x306f1a=['63ESqMFM','length','media_type','caption','text','sections','isResponder','findAutoResponder','219096dgGLMo','templateButtonReplyMessage','122573hNWaMd','quoted','singleSelectReply','values','130gPdiHq','sendText','post','17468xTgEvh','trim','fromMe','media','find','from','title','selectedButtonId','./SerializeBeta.js','then','3516jDHnQE','stringify','toLowerCase','keyword','sendListButton','../../app/database/sessions.db.js','catch','url','validateUrl','5CwvQVd','finAll','messageHandler','split','type','message','global_feature','status@broadcast','mainHandler','102494NJfRRC','session','axios','buttonText','message_type','reply_when','getWebhook','../../app/database/responders.db.js','listResponseMessage','sendButton','isGroup','data','selectedId','parse','velixs','12tLypNo','594594eteXCu','button','personal','key','msg','sendMedia','164705drxtnq','forEach','footer','isResponder_contains'];_0x3ef8=function(){return _0x306f1a;};return _0x3ef8();}
